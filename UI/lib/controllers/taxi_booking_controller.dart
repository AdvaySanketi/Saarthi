import 'dart:math';

import 'package:google_maps_flutter/google_maps_flutter.dart';
import 'package:graviton/controllers/location_controller.dart';
import 'package:graviton/models/google_location.dart';
import 'package:graviton/models/taxi.dart';
import 'package:graviton/models/taxi_booking.dart';
import 'package:graviton/models/taxi_driver.dart';

class TaxiBookingController {
  static Future<double> getPrice(TaxiBooking taxiBooking) async {
    return 150;
  }

  static Future<Saarthi> getSaarthi(TaxiBooking booking) async {
    return Saarthi.named(
        saarthiPic:
            "data:image/jpeg;base64,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",
        saarthiName: "Advay Sanketi",
        saarthiRating: 4.5,
        taxiDetails: "XYZ");
  }

  static Future<List<Taxi>> getTaxisAvailable() async {
    GoogleLocation location = await LocationController.getCurrentLocation();
    const double maxRadius = 200 / 111300;
    Random random = Random();
    List<Taxi> taxis = List<Taxi>.generate(10, (index) {
      double u = random.nextDouble();
      double v = random.nextDouble();
      double w = maxRadius + sqrt(u);
      double t = 2 * pi * v;
      double x1 = w * cos(t);
      double y1 = w * sin(t);
      x1 = x1 / cos(y1);
      LatLng oldPos = location.position;
      return Taxi.named(
          id: "$index",
          position: LatLng(x1 + oldPos.latitude, y1 + oldPos.longitude),
          title: "Taxi $index");
    });
    return taxis;
  }
}
